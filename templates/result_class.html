
{% extends 'navbar.html' %}

{% block content %}
	<h4 class="center"> Results </h4>
	<div class="container">
	<div class="responsive-table" style="overflow-x:scroll; height: 80%;">
		<table class="highlight centered">
			<thead>
				<tr>		
					{% for col in x_cols %}
						<th> {{ col }} </th>					
					{% endfor %}		
					<th> Test values: </th>
					<th> Prediction: </th>  
				</tr>
			</thead>
			{% for y1 in full_set %}
			<tbody>		
				{% for ele in y1 %}		
					<td> {{ ele }} </td>
				{% endfor %}
			</tbody>
			{% endfor %}
		</table>
	</div>
	<div class="responsive-table">
		<h5 class="center"> Classification Report </h5>
		{{ class_report|safe }}
	</div>
	<div>
		<h5 class="center"> Confusion Matrix </h5>
		{{ confusion_matrix|safe }}
	</div>
	<div class="responsive-table" style="overflow-x:scroll;">
		<h5 class="center"> Result metric values for the classifier </h5>		
		<table class="highlight centered">
			<thead>
				<tr> 
					<th> Precision </th>
					<th> Recall </th>
					<th> F-Score </th>
					<th> Accuracy </th>
					<th> AUC </th>
				</tr>
			</thead>
			<tbody>
				<td> {{ precision }} </td>
				<td> {{ recall }} </td>
				<td> {{ fscore }} </td>
				<td> {{ accuracy }} </td>
				<td> {{ roc_auc }} </td>
			</tbody>
		</table>
	</div>
	<div id="linechart_material" class="center" style="display:block;">
	</div>
	</div>
	<script type="text/javascript">
		 google.charts.load('current', {
		   'packages': ['scatter','line']
		 });
		 google.charts.setOnLoadCallback(drawChart);
		function drawChart () {

			var data = new google.visualization.DataTable();
//			{% for c in classes %}
//				data.addColumns({{ c|safe }});
//			{% endfor %}
			data.addColumn('number',"False Positive Rate");
			data.addColumn('number',"Macro averaged ROC curve with area:"+{{ roc_auc|safe }});
			data.addRows({{ zip_json|safe }})

			var options = {
			  width: 800,
			  height: 500,
			  chart: {
			    title: 'The Receiver operating Characteristic Curve',
			    subtitle: 'On a supervised classification algorithm'
			  },
			  curveType:'function'
			  
			};

			var chart = new google.charts.Line(document.getElementById('linechart_material'));

			chart.draw(data, google.charts.Line.convertOptions(options));
      		}		
	</script>				
{% endblock %}
