
{% extends 'navbar.html' %}

{% block content %}
<div class="row">
<div class="card left col s6" style="height: 800px">
	<div class="card-title">Results {% if algo_name_1 %} for {{ algo_name_1 }} {% endif %}<i class="material-icons right">poll</i></div>
	<div class="card-tabs "> 
		<ul class="tabs tabs-fixed-width">
			<li class="tab"><a href="#result_table_1">Predictions</a></li>
			<li class="tab"><a href="#class_report_1">Reports</a></li>
			<li class="tab"><a href="#graph_1">Graphs</a></li>
	      </ul>
	</div>
	<div class="card-content">	
	<div id="result_table_1" class="responsive-table" style="overflow-x:scroll; height: 80%; width: 100%;">
		<table class="highlight centered">
			<thead>
				<tr>		
					{% for col in x_cols_1 %}
						<th> {{ col }} </th>					
					{% endfor %}		
					<th> Test values: </th>
					<th> Prediction: </th>  
				</tr>
			</thead>
			{% for y1 in full_set_1 %}
			<tbody>		
				{% for ele in y1 %}		
					<td> {{ ele }} </td>
				{% endfor %}
			</tbody>
			{% endfor %}
		</table>
	</div>		
	<div id="class_report_1" style="overflow-x:scroll; overflow-y:scroll; width: 100%; height: 80%;">
		<div class="responsive-table">
			<h5 class="center"> Classification Report </h5>
			{{ class_report_1|safe }}
		</div>
		{% if hyper_result_1 %}
		<h5 class="center"> Hyperparameter Tuning Report </h5>
		<div class="responsive-table" style="overflow-x:scroll; height: 80%;">	
			{{ hyper_result_1|safe }}
		</div>
		{% endif %}	

		<div>
			<h5 class="center"> Confusion Matrix </h5>
			{{ confusion_matrix_1|safe }}
		</div>
		<div class="responsive-table" style="overflow-x:scroll;">
			<h5 class="center"> Result metric values for the classifier </h5>		
			<table class="highlight centered">
				<thead>
					<tr> 
						<th> Precision </th>
						<th> Recall </th>
						<th> F-Score </th>
						<th> Accuracy </th>
						<th> AUC </th>
					</tr>
				</thead>
				<tbody>
					<td> {{ precision_1 }} </td>
					<td> {{ recall_1 }} </td>
					<td> {{ fscore_1 }} </td>
					<td> {{ accuracy_1 }} </td>
					<td> {{ roc_auc_1 }} </td>
				</tbody>
			</table>
		</div>
	</div>
	<div id="graph_1" class="section container" style="overflow-x:scroll; width: 100%">
		<h5 class="center">Macro averaged ROC curve with area: {{ roc_auc_1|safe }} </h5>
		<div id="linechart_material_1" class="center" style="display:block;">
		</div>
	</div>
	</div>
</div>

<div class="card right col s6" style="height: 800px">
	<div class="card-title">Results {% if algo_name_2 %} for {{ algo_name_2 }} {% endif %}<i class="material-icons right">poll</i></div>
	<div class="card-tabs"> 
				<ul class="tabs  tabs-fixed-width">
					<li class="tab"><a href="#result_table_2">Predictions</a></li>
					<li class="tab"><a href="#class_report_2">Reports</a></li>
					<li class="tab"><a href="#graph_2">Graphs</a></li>
			      </ul>
	</div>
	<div class="card-content">
	<div id="result_table_2" class="responsive-table" style="overflow-x:scroll; height: 80%;  width: 100%;">
		<table class="highlight centered">
			<thead>
				<tr>		
					{% for col in x_cols_2 %}
						<th> {{ col }} </th>					
					{% endfor %}		
					<th> Test values: </th>
					<th> Prediction: </th>  
				</tr>
			</thead>
			{% for y1 in full_set_2 %}
			<tbody>		
				{% for ele in y1 %}		
					<td> {{ ele }} </td>
				{% endfor %}
			</tbody>
			{% endfor %}
		</table>
	</div>
	<div id="class_report_2" style="overflow-x:scroll; overflow-y:scroll; height: 80%;">
		<div class="responsive-table">
			<h5 class="center"> Classification Report </h5>
			{{ class_report_2|safe }}
		</div>
		{% if hyper_result_2 %}
		<h5 class="center"> Hyperparameter Tuning Report </h5>
		<div class="responsive-table" style="overflow-x:scroll; height: 80%;">	
			{{ hyper_result_2|safe }}
		</div>
		{% endif %}	

		<div>
			<h5 class="center"> Confusion Matrix </h5>
			{{ confusion_matrix_2|safe }}
		</div>
		<div class="responsive-table" style="overflow-x:scroll;">
			<h5 class="center"> Result metric values for the classifier </h5>		
			<table class="highlight centered">
				<thead>
					<tr> 
						<th> Precision </th>
						<th> Recall </th>
						<th> F-Score </th>
						<th> Accuracy </th>
						<th> AUC </th>
					</tr>
				</thead>
				<tbody>
					<td> {{ precision_2 }} </td>
					<td> {{ recall_2 }} </td>
					<td> {{ fscore_2 }} </td>
					<td> {{ accuracy_2 }} </td>
					<td> {{ roc_auc_2 }} </td>
				</tbody>
			</table>
		</div>
	</div>
	<div id="graph_2" class="section container" style="overflow-x:scroll; width: 100%">
		<h5 class="center">Macro averaged ROC curve with area: {{ roc_auc_2|safe }} </h5>
		<div id="linechart_material_2" class="center" style="display:block;">
		</div>
	</div>
	</div>
</div>
</div>
	<script type="text/javascript">
		 google.charts.load('current', {
		   'packages': ['scatter','line']
		 });
		 google.charts.setOnLoadCallback(drawChart1);
		 google.charts.setOnLoadCallback(drawChart2);
		function drawChart1 () {

			var data = new google.visualization.DataTable();
//			{% for c in classes %}
//				data.addColumns({{ c|safe }});
//			{% endfor %}
			data.addColumn('number');
			data.addColumn('number');
			data.addRows({{ zip_json_1|safe }})

			var options = {
			  width: 800,
			  height: 500,
			  chart: {
			    title: 'The Receiver operating Characteristic Curve',
			    subtitle: 'On a supervised classification algorithm'
			  },
			  curveType:'function',
			  legend: {position: 'none'}
			};

			var chart = new google.charts.Line(document.getElementById('linechart_material_1'));

			chart.draw(data, google.charts.Line.convertOptions(options));
      		}		
		function drawChart2 () {

			var data = new google.visualization.DataTable();
//			{% for c in classes %}
//				data.addColumns({{ c|safe }});
//			{% endfor %}
			data.addColumn('number');
			data.addColumn('number');
			data.addRows({{ zip_json_2|safe }})

			var options = {
			  width: 800,
			  height: 500,
			  chart: {
			    title: 'The Receiver operating Characteristic Curve',
			    subtitle: 'On a supervised classification algorithm'
			  },
			  curveType:'function',
			  legend: {position: 'none'}	
			  
			};

			var chart = new google.charts.Line(document.getElementById('linechart_material_2'));

			chart.draw(data, google.charts.Line.convertOptions(options));
      		}		
	</script>				
{% endblock %}
